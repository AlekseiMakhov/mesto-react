(this["webpackJsonpmesto-react"]=this["webpackJsonpmesto-react"]||[]).push([[0],{12:function(e,t,a){},13:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a(1),c=a.n(s),i=a(4),r=a.n(i),o=(a(12),a(2)),l=a.p+"static/media/logo.c2821b38.svg";var u=function(){return Object(n.jsx)("header",{className:"header",children:Object(n.jsx)("img",{className:"header__logo",src:l,alt:"\u041b\u043e\u0433\u043e"})})},d=a(5),m=a(6),p=new(function(){function e(t){Object(d.a)(this,e),this._headers=t.headers,this._baseUrl=t.baseUrl}return Object(m.a)(e,[{key:"_sendRequest",value:function(e,t){return fetch(e,t).then((function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430 ".concat(e.status," - ").concat(e.statusText))}))}},{key:"editProfileInfo",value:function(e){return this._sendRequest("".concat(this._baseUrl,"/users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e.name,about:e.about})})}},{key:"getProfileInfo",value:function(){return this._sendRequest("".concat(this._baseUrl,"/users/me"),{headers:this._headers})}},{key:"editAvatar",value:function(e){return this._sendRequest("".concat(this._baseUrl,"/users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e})})}},{key:"createNewCard",value:function(e){return this._sendRequest("".concat(this._baseUrl,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify({name:e.name,link:e.link})})}},{key:"deleteCard",value:function(e){return this._sendRequest("".concat(this._baseUrl,"/cards/").concat(e),{method:"DELETE",headers:this._headers})}},{key:"setLike",value:function(e){return this._sendRequest("".concat(this._baseUrl,"/cards/likes/").concat(e),{method:"PUT",headers:this._headers})}},{key:"removeLike",value:function(e){return this._sendRequest("".concat(this._baseUrl,"/cards/likes/").concat(e),{method:"DELETE",headers:this._headers})}},{key:"getInitialCards",value:function(){return this._sendRequest("".concat(this._baseUrl,"/cards"),{headers:this._headers})}}]),e}())({baseUrl:"https://mesto.nomoreparties.co/v1/cohort-16",headers:{authorization:"83172f60-a4ab-4f2a-9396-1325bbd21612","Content-Type":"application/json"}});var j=function(e){return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("div",{className:"element",id:e.item.id,children:[Object(n.jsx)("img",{className:"element__image",src:e.item.link,alt:"".concat(e.item.name,".\u0424\u043e\u0442\u043e"),onClick:function(){e.onCardClick(e.item)}}),Object(n.jsx)("button",{type:"button",className:"element__trash-button element__trash-button_visible"}),Object(n.jsx)("h3",{className:"element__text",children:e.item.name}),Object(n.jsxs)("div",{className:"like",children:[Object(n.jsx)("button",{type:"button",className:"like__button"}),Object(n.jsx)("p",{className:"like__count",children:e.item.likes.length})]})]})})};var b=function(e){var t=c.a.useState(""),a=Object(o.a)(t,2),s=a[0],i=a[1],r=c.a.useState(""),l=Object(o.a)(r,2),u=l[0],d=l[1],m=c.a.useState(""),b=Object(o.a)(m,2),h=b[0],_=b[1],f=c.a.useState(void 0),x=Object(o.a)(f,2),O=x[0],v=x[1];return c.a.useEffect((function(){Promise.all([p.getProfileInfo(),p.getInitialCards()]).then((function(e){var t=Object(o.a)(e,2),a=t[0],n=t[1];i(a.name),d(a.about),_(a.avatar),v(n)})).catch((function(e){console.log(e)}))}),[]),Object(n.jsxs)("main",{className:"content",children:[Object(n.jsxs)("section",{className:"profile",children:[Object(n.jsxs)("div",{className:"avatar",onClick:e.onEditAvatar,children:[Object(n.jsx)("img",{className:"avatar__img",src:h,alt:"\u0410\u0432\u0430\u0442\u0430\u0440"}),Object(n.jsx)("div",{className:"avatar__edit-icon"})]}),Object(n.jsxs)("div",{className:"profile-info",children:[Object(n.jsxs)("div",{children:[Object(n.jsx)("h1",{className:"profile-info__name",children:s}),Object(n.jsx)("p",{className:"profile-info__description",children:u})]}),Object(n.jsx)("button",{type:"button",className:"profile-info__edit-button",onClick:e.onEditProfile})]}),Object(n.jsx)("button",{type:"button",className:"add-image-button",onClick:e.onAddPlace})]}),Object(n.jsx)("section",{className:"elements",children:O&&O.map((function(t){return Object(n.jsx)(j,{item:t,onCardClick:e.onCardClick},t._id)}))})]})};var h=function(){return Object(n.jsx)("footer",{className:"footer",children:Object(n.jsx)("p",{className:"footer__logo",children:"\xa9 2020 Mesto Russia"})})};var _=function(e){var t=e.isOpen?" popup_opened":"";return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("section",{id:"profile-info__edit",className:"popup popup_type_".concat(e.name).concat(t),children:Object(n.jsxs)("form",{className:"popup-form",name:e.name,children:[Object(n.jsx)("button",{type:"button",name:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c",className:"popup-form__close-button",onClick:e.onClose}),Object(n.jsx)("h3",{className:"popup-form__title",children:e.title}),e.children,Object(n.jsx)("button",{className:"popup-form__submit-button popup-form__submit-button_disabled",disabled:!0,children:e.buttonText})]})})})};var f=function(e){var t=e.isOpen?" popup_opened":"";return Object(n.jsx)("section",{id:"view-image",className:"popup popup_type_dark popup_type_".concat(e.name).concat(t),children:Object(n.jsxs)("div",{className:"popup-image",children:[Object(n.jsx)("button",{type:"button",name:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c",className:"popup-image__close-button",onClick:e.onClose}),Object(n.jsx)("img",{className:"popup-image__image",src:e.cardData.link,alt:"".concat(e.cardData.name).\u0424\u043e\u0442\u043e}),Object(n.jsx)("h3",{className:"popup-image__title",children:e.cardData.name})]})})};var x=function(){var e=c.a.useState(!1),t=Object(o.a)(e,2),a=t[0],s=t[1],i=c.a.useState(!1),r=Object(o.a)(i,2),l=r[0],d=r[1],m=c.a.useState(!1),p=Object(o.a)(m,2),j=p[0],x=p[1],O=c.a.useState(!1),v=Object(o.a)(O,2),g=v[0],N=v[1],k=c.a.useState({name:"",link:""}),y=Object(o.a)(k,2),C=y[0],P=y[1];function S(){s(!1),d(!1),x(!1),P({name:"",link:""}),N(!1)}return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(u,{}),Object(n.jsx)(b,{onEditProfile:function(){d(!0)},onEditAvatar:function(){s(!0)},onAddPlace:function(){x(!0)},onCardClick:function(e){N(!0),P({name:e.name,link:e.link})}}),Object(n.jsx)(h,{}),Object(n.jsx)(_,{name:"avatar",title:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0430\u0432\u0430\u0442\u0430\u0440",children:Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("input",{name:"avatar",id:"avatar",type:"url",className:"popup-form__text-input",placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443",required:!0}),Object(n.jsx)("span",{id:"avatar-error",className:"popup-form__error-text"})]}),isOpen:a,onClose:S,buttonText:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),Object(n.jsx)(_,{name:"profile",title:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c",children:Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("input",{name:"name",id:"name-input",type:"text",minLength:"2",maxLength:"40",className:"popup-form__text-input",placeholder:"\u0418\u043c\u044f",required:!0}),Object(n.jsx)("span",{id:"name-input-error",className:"popup-form__error-text"}),Object(n.jsx)("input",{name:"about",id:"about-input",type:"text",minLength:"2",maxLength:"200",className:"popup-form__text-input",placeholder:"\u041e \u0441\u0435\u0431\u0435",required:!0}),Object(n.jsx)("span",{id:"about-input-error",className:"popup-form__error-text"})]}),isOpen:l,onClose:S,buttonText:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),Object(n.jsx)(_,{name:"place",title:"\u041d\u043e\u0432\u043e\u0435 \u043c\u0435\u0441\u0442\u043e",children:Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("input",{name:"name",id:"image-input",type:"text",minLength:"1",maxLength:"40",className:"popup-form__text-input",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",required:!0}),Object(n.jsx)("span",{id:"image-input-error",className:"popup-form__error-text"}),Object(n.jsx)("input",{name:"link",id:"link-input",type:"url",className:"popup-form__text-input",placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443",required:!0}),Object(n.jsx)("span",{id:"link-input-error",className:"popup-form__error-text"})]}),isOpen:j,onClose:S,buttonText:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"}),Object(n.jsx)(f,{isOpen:g,onClose:S,cardData:C})]})},O=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,14)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,c=t.getLCP,i=t.getTTFB;a(e),n(e),s(e),c(e),i(e)}))};r.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(x,{})}),document.getElementById("root")),O()}},[[13,1,2]]]);
//# sourceMappingURL=main.be02d348.chunk.js.map